{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\ASUS\\\\Downloads\\\\BookBazaar-main\\\\BookBazaar-main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\ASUS\\\\Downloads\\\\BookBazaar-main\\\\BookBazaar-main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Downloads\\\\BookBazaar-main\\\\BookBazaar-main\\\\src\\\\pages\\\\SignIn.js\";\nimport { useContext, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport React from \"react\";\nimport SignInForm from \"../components/SignInForm\";\nimport InCartContext from \"../store/favorites-context\";\nimport \"../components/SignIn.css\";\nfunction SignIn() {\n  var favoritesCtx = useContext(InCartContext);\n  var navigate = useNavigate();\n  var _useState = useState( /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 42\n      }\n    })),\n    _useState2 = _slicedToArray(_useState, 2),\n    warning = _useState2[0],\n    setWarning = _useState2[1];\n  function checkExistingUser(userData) {\n    var _this = this;\n    fetch(\"https://bookbazaar-cc648-default-rtdb.firebaseio.com/users.json\").then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      for (var key in data) {\n        var user = _objectSpread({\n          id: key\n        }, data[key]);\n        if (user.Email === userData.Email && user.Password === userData.Password) {\n          favoritesCtx.toggleLogin(user.Name, user.Email);\n          favoritesCtx.setAccess(user.AdminAccess);\n          navigate(\"/\", {\n            replace: true\n          });\n        }\n      }\n      if (favoritesCtx.isLoggedIn === false) {\n        setWarning( /*#__PURE__*/React.createElement(\"div\", {\n          className: \"alert unsuccessful\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 13\n          }\n        }, \"SignIn Unsuccessful...Try Again\"));\n      }\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, warning, /*#__PURE__*/React.createElement(SignInForm, {\n    checkExistingUser: checkExistingUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }));\n}\nexport default SignIn;","map":{"version":3,"names":["useContext","useState","useNavigate","React","SignInForm","InCartContext","SignIn","favoritesCtx","navigate","warning","setWarning","checkExistingUser","userData","fetch","then","response","json","data","key","user","id","Email","Password","toggleLogin","Name","setAccess","AdminAccess","replace","isLoggedIn"],"sources":["C:/Users/ASUS/Downloads/BookBazaar-main/BookBazaar-main/src/pages/SignIn.js"],"sourcesContent":["import { useContext, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport SignInForm from \"../components/SignInForm\";\r\nimport InCartContext from \"../store/favorites-context\";\r\nimport \"../components/SignIn.css\";\r\n\r\nfunction SignIn() {\r\n  const favoritesCtx = useContext(InCartContext);\r\n  const navigate = useNavigate();\r\n  const [warning, setWarning] = useState(<div></div>);\r\n\r\n  function checkExistingUser(userData) {\r\n    fetch(\"https://bookbazaar-cc648-default-rtdb.firebaseio.com/users.json\")\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        for (const key in data) {\r\n          const user = {\r\n            id: key,\r\n            ...data[key],\r\n          };\r\n          if (\r\n            user.Email === userData.Email &&\r\n            user.Password === userData.Password\r\n          ) {\r\n            favoritesCtx.toggleLogin(user.Name, user.Email);\r\n            favoritesCtx.setAccess(user.AdminAccess);\r\n            navigate(\"/\", { replace: true });\r\n          }\r\n        }\r\n        if (favoritesCtx.isLoggedIn === false) {\r\n          setWarning(\r\n            <div className=\"alert unsuccessful\">\r\n              SignIn Unsuccessful...Try Again\r\n            </div>\r\n          );\r\n        }\r\n      });\r\n  }\r\n  return (\r\n    <div>\r\n      {warning}\r\n      <SignInForm checkExistingUser={checkExistingUser} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignIn;\r\n"],"mappings":";;;AAAA,SAASA,UAAU,EAAEC,QAAQ,QAAQ,OAAO;AAC5C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,UAAU,MAAM,0BAA0B;AACjD,OAAOC,aAAa,MAAM,4BAA4B;AACtD,OAAO,0BAA0B;AAEjC,SAASC,MAAM,GAAG;EAChB,IAAMC,YAAY,GAAGP,UAAU,CAACK,aAAa,CAAC;EAC9C,IAAMG,QAAQ,GAAGN,WAAW,EAAE;EAAC,gBACDD,QAAQ,eAAC;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAW,CAAC;IAAA;IAA5CQ,OAAO;IAAEC,UAAU;EAE1B,SAASC,iBAAiB,CAACC,QAAQ,EAAE;IAAA;IACnCC,KAAK,CAAC,iEAAiE,CAAC,CACrEC,IAAI,CAAC,UAACC,QAAQ,EAAK;MAClB,OAAOA,QAAQ,CAACC,IAAI,EAAE;IACxB,CAAC,CAAC,CACDF,IAAI,CAAC,UAACG,IAAI,EAAK;MACd,KAAK,IAAMC,GAAG,IAAID,IAAI,EAAE;QACtB,IAAME,IAAI;UACRC,EAAE,EAAEF;QAAG,GACJD,IAAI,CAACC,GAAG,CAAC,CACb;QACD,IACEC,IAAI,CAACE,KAAK,KAAKT,QAAQ,CAACS,KAAK,IAC7BF,IAAI,CAACG,QAAQ,KAAKV,QAAQ,CAACU,QAAQ,EACnC;UACAf,YAAY,CAACgB,WAAW,CAACJ,IAAI,CAACK,IAAI,EAAEL,IAAI,CAACE,KAAK,CAAC;UAC/Cd,YAAY,CAACkB,SAAS,CAACN,IAAI,CAACO,WAAW,CAAC;UACxClB,QAAQ,CAAC,GAAG,EAAE;YAAEmB,OAAO,EAAE;UAAK,CAAC,CAAC;QAClC;MACF;MACA,IAAIpB,YAAY,CAACqB,UAAU,KAAK,KAAK,EAAE;QACrClB,UAAU,eACR;UAAK,SAAS,EAAC,oBAAoB;UAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAA,qCAE7B,CACP;MACH;IACF,CAAC,CAAC;EACN;EACA,oBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACGD,OAAO,eACR,oBAAC,UAAU;IAAC,iBAAiB,EAAEE,iBAAkB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CAChD;AAEV;AAEA,eAAeL,MAAM"},"metadata":{},"sourceType":"module"}