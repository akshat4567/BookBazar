{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\ASUS\\\\Downloads\\\\BookBazaar-main\\\\BookBazaar-main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Downloads\\\\BookBazaar-main\\\\BookBazaar-main\\\\src\\\\pages\\\\Checkout.js\";\nimport { useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport classes from \"../components/Checkout.module.css\";\nimport InCartContext from \"../store/favorites-context\";\nfunction Checkout() {\n  var navigate = useNavigate();\n  var favoritesCtx = useContext(InCartContext);\n  function checkoutDone(event) {\n    event.preventDefault();\n    var time = new Date();\n    var userHistory = {\n      Email: favoritesCtx.userEmail,\n      PurchaseHistory: favoritesCtx.favorites,\n      Time: time\n    };\n    fetch(\"https://bookbazaar-cc648-default-rtdb.firebaseio.com/userHistory.json\", {\n      method: \"POST\",\n      body: JSON.stringify(userHistory),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function () {\n      for (var key in favoritesCtx.favorites) {\n        var book = _objectSpread({\n          id: key\n        }, favoritesCtx.favorites[key]);\n        favoritesCtx.removeFavorite(book);\n      }\n      navigate(\"/\", {\n        replace: true\n      });\n      alert(\"Purchase Successful\");\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    onSubmit: checkoutDone,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.heading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \"Shipping Address\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: classes.entry,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, \"Name*\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: classes.textarea,\n    type: \"text\",\n    required: true,\n    id: \"name\",\n    autoComplete: \"off\",\n    spellCheck: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: classes.entry,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, \"Address*\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: classes.textarea,\n    type: \"address\",\n    required: true,\n    id: \"address\",\n    autoComplete: \"off\",\n    spellCheck: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: classes.entry,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, \"Contact No.1*\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: classes.textarea,\n    type: \"number\",\n    required: true,\n    id: \"contact\",\n    autoComplete: \"off\",\n    spellCheck: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: classes.entry,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, \"Contact No.2\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: classes.textarea,\n    type: \"number\",\n    id: \"contact2\",\n    autoComplete: \"off\",\n    spellCheck: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: classes.entry,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, \"ZIP / Postal Code*\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: classes.textarea,\n    type: \"pin\",\n    required: true,\n    id: \"pin\",\n    autoComplete: \"off\",\n    spellCheck: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.btn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, \"Checkout\"))));\n}\nexport default Checkout;","map":{"version":3,"names":["useContext","useNavigate","classes","InCartContext","Checkout","navigate","favoritesCtx","checkoutDone","event","preventDefault","time","Date","userHistory","Email","userEmail","PurchaseHistory","favorites","Time","fetch","method","body","JSON","stringify","headers","then","key","book","id","removeFavorite","replace","alert","form","heading","entry","textarea","btn"],"sources":["C:/Users/ASUS/Downloads/BookBazaar-main/BookBazaar-main/src/pages/Checkout.js"],"sourcesContent":["import { useContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport classes from \"../components/Checkout.module.css\";\r\nimport InCartContext from \"../store/favorites-context\";\r\n\r\nfunction Checkout() {\r\n  const navigate = useNavigate();\r\n  const favoritesCtx = useContext(InCartContext);\r\n  function checkoutDone(event) {\r\n    event.preventDefault();\r\n    const time = new Date();\r\n\r\n    const userHistory = {\r\n      Email: favoritesCtx.userEmail,\r\n      PurchaseHistory: favoritesCtx.favorites,\r\n      Time: time,\r\n    };\r\n\r\n    fetch(\r\n      \"https://bookbazaar-cc648-default-rtdb.firebaseio.com/userHistory.json\",\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify(userHistory),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      }\r\n    ).then(() => {\r\n      for (const key in favoritesCtx.favorites) {\r\n        const book = {\r\n          id: key,\r\n          ...favoritesCtx.favorites[key],\r\n        };\r\n        favoritesCtx.removeFavorite(book);\r\n      }\r\n\r\n      navigate(\"/\", { replace: true });\r\n      alert(\"Purchase Successful\");\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className={classes.body}>\r\n      <form className={classes.form} onSubmit={checkoutDone}>\r\n        <div className={classes.heading}>Shipping Address</div>\r\n        <div>\r\n          <label className={classes.entry}>Name*</label>\r\n          <input\r\n            className={classes.textarea}\r\n            type=\"text\"\r\n            required\r\n            id=\"name\"\r\n            autoComplete=\"off\"\r\n            spellCheck=\"off\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className={classes.entry}>Address*</label>\r\n          <input\r\n            className={classes.textarea}\r\n            type=\"address\"\r\n            required\r\n            id=\"address\"\r\n            autoComplete=\"off\"\r\n            spellCheck=\"off\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className={classes.entry}>Contact No.1*</label>\r\n          <input\r\n            className={classes.textarea}\r\n            type=\"number\"\r\n            required\r\n            id=\"contact\"\r\n            autoComplete=\"off\"\r\n            spellCheck=\"off\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className={classes.entry}>Contact No.2</label>\r\n          <input\r\n            className={classes.textarea}\r\n            type=\"number\"\r\n            id=\"contact2\"\r\n            autoComplete=\"off\"\r\n            spellCheck=\"off\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className={classes.entry}>ZIP / Postal Code*</label>\r\n          <input\r\n            className={classes.textarea}\r\n            type=\"pin\"\r\n            required\r\n            id=\"pin\"\r\n            autoComplete=\"off\"\r\n            spellCheck=\"off\"\r\n          />\r\n        </div>\r\n        <div className={classes.btn}>\r\n          <button>Checkout</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Checkout;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}